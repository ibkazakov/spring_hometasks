CREATE USER 'geekbrains-lesson3'@'localhost' IDENTIFIED BY '#vkjTHR4dsr';
GRANT ALL PRIVILEGES ON * . * TO 'geekbrains-lesson3'@'localhost';

CREATE DATABASE spring3;
USE spring3;

===

DROP TABLE IF EXISTS company;

CREATE TABLE company (
	id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    description VARCHAR(1000),
    address VARCHAR(1000),
    PRIMARY KEY(id)
) ENGINE=InnoDB CHARSET=utf8;


===

DROP TABLE IF EXISTS category;

CREATE TABLE category (
    id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    PRIMARY KEY(id)
) ENGINE=InnoDB CHARSET=utf8;


===
DROP TABLE IF EXISTS ad;

CREATE TABLE ad (
    id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    content VARCHAR(1000),
    phone VARCHAR(30),
    category_id INT(11) NOT NULL,
    company_id INT(11) NOT NULL,
    PRIMARY KEY(id),
    CONSTRAINT category_foreign FOREIGN KEY(category_id) REFERENCES company(id),
    CONSTRAINT company_foreign FOREIGN KEY(company_id) REFERENCES category(id)
) ENGINE=InnoDB CHARSET=utf8;